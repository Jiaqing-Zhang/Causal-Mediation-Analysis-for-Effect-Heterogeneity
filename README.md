# Causal-Mediation-Analysis-for-Effect-Heterogeneity
R Package for Causal Mediation Analysis for Effect Heterogeneity

The package hetero.mediation for R is developed to help researchers conduct the mediation analysis for effect heterogeneity under the identification assumption (assumption 1-4). The functionalities of this the hetero.mediation package include calculating various estimates, standard error, p-value and confidence intervals for the quantities of interest using the algorithms described in previous sections, such as natural direct and indirect effect heterogeneity, controlled direct effect heterogeneity, etc. This package accommodates various types of data and different class of statistical models. 

To use this package, researchers first specify and fit the mediator model and the outcome model separately. The type of the statistical model dependents on type of the data. Specifically, linear regression models are fitted for continuous mediator and continuous outcome; logistic regression models are fitted for binary mediator, and for binary and rare outcome; log-linear model is fitted for binary and common outcome. The model objects for the mediator and the outcome obtained using lm or glm functions in R are the main input for the function hetero.mediate. 

The researcher must specify the mediator and outcome model fits, which are the model.m and model.y arguments. The modifier, treat and mediator arguments are character strings indicating the name of modifier, treatment, and mediator variables, respectively. The conf.level argument specifies the level of the returned two-sided confidence intervals for direct and indirect effect heterogeneity, with the default value of 0.95. Finally, the two arguments mreg and yreg specifies types of model implemented for the mediator and the outcome. The mediator can be implemented using linear or logistic; the outcome can be implemented using linear, logistic or loglinear. 

The result of the hetero.mediate function contains a table with points estimates, standard errors, confidence intervals, and the p-values for natural/pure direct effect heterogeneity, natural indirect effect heterogeneity, pure indirect effect heterogeneity, mediated effect heterogeneity, controlled direct effect heterogeneity, and total effect heterogeneit
